openapi: 3.0.3
info:
  title: MITx Online API
  version: 0.0.1 (v2)
  description: MIT public API
paths:
  /api/v2/pages/:
    get:
      operationId: pages_list
      description: Returns pages of all types
      summary: List all Wagtail Pages
      parameters:
      - in: query
        name: fields
        schema:
          type: string
        description: Specify fields (e.g. `*`)
      - in: query
        name: type
        schema:
          type: string
        description: Filter by Wagtail page type
      tags:
      - pages
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PageList'
          description: ''
  /api/v2/pages/{id}/:
    get:
      operationId: pages_retrieve
      description: Returns details of a specific Wagtail page by ID
      summary: Get Wagtail Page Details
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: ID of the Wagtail page
        required: true
      - in: query
        name: revision_id
        schema:
          type: integer
        description: Optional certificate revision ID to retrieve a specific revision
          of the certificate page
      tags:
      - pages
      responses:
        '200':
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/CoursePageItem'
                - $ref: '#/components/schemas/ProgramPageItem'
                - $ref: '#/components/schemas/CertificatePage'
                - $ref: '#/components/schemas/Page'
          description: Returns a page of any known Wagtail page type
  /api/v2/pages/?fields=*&type=cms.certificatepage:
    get:
      operationId: pages_?fields=*&type=cms.certificatepage_retrieve
      description: Returns pages of type cms.CertificatePage
      summary: List all Certificate Pages
      tags:
      - pages
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CertificatePageList'
          description: ''
  /api/v2/pages/?fields=*&type=cms.coursepage:
    get:
      operationId: pages_?fields=*&type=cms.coursepage_retrieve
      description: Returns pages of type cms.CoursePage
      summary: List all Course Pages
      parameters:
      - in: query
        name: readable_id
        schema:
          type: string
        description: filter by course readable_id
      tags:
      - pages
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CoursePageList'
          description: ''
  /api/v2/pages/?fields=*&type=cms.programpage:
    get:
      operationId: pages_?fields=*&type=cms.programpage_retrieve
      description: Returns pages of type cms.ProgramPage
      summary: List all Program Pages
      parameters:
      - in: query
        name: readable_id
        schema:
          type: string
        description: filter by program readable_id
      tags:
      - pages
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProgramPageList'
          description: ''
components:
  schemas:
    AvailabilityEnum:
      enum:
      - anytime
      - dated
      type: string
      description: |-
        * `anytime` - anytime
        * `dated` - dated
      x-enum-descriptions:
      - anytime
      - dated
    BaseProgram:
      type: object
      description: Basic program model serializer
      properties:
        title:
          type: string
          maxLength: 255
        readable_id:
          type: string
          pattern: ^[\w\-+:\.]+$
          maxLength: 255
        id:
          type: integer
          readOnly: true
        type:
          type: string
          readOnly: true
      required:
      - id
      - readable_id
      - title
      - type
    CertificatePage:
      type: object
      description: Serializer for certificate pages, including overrides and signatory
        items.
      properties:
        id:
          type: integer
        meta:
          $ref: '#/components/schemas/PageMeta'
        title:
          type: string
        product_name:
          type: string
        CEUs:
          type: string
        overrides:
          type: array
          items:
            $ref: '#/components/schemas/Override'
        signatory_items:
          type: array
          items:
            $ref: '#/components/schemas/SignatoryItem'
      required:
      - CEUs
      - id
      - meta
      - overrides
      - product_name
      - signatory_items
      - title
    CertificatePageList:
      type: object
      description: Serializer for a list of certificate pages.
      properties:
        meta:
          $ref: '#/components/schemas/PageListMeta'
        items:
          type: array
          items:
            $ref: '#/components/schemas/CertificatePage'
      required:
      - items
      - meta
    CoursePage:
      type: object
      description: Course page model serializer
      properties:
        feature_image_src:
          type: string
          description: Serializes the source of the feature_image
          readOnly: true
        page_url:
          type: string
          format: uri
          readOnly: true
        description:
          type: string
          description: Get cleaned description text.
          readOnly: true
        live:
          type: boolean
          readOnly: true
        length:
          type: string
          description: Get cleaned length text.
          readOnly: true
        effort:
          type: string
          nullable: true
          description: Get cleaned effort text.
          readOnly: true
        financial_assistance_form_url:
          type: string
          format: uri
          readOnly: true
        current_price:
          type: integer
          nullable: true
          description: Get the current price of the course product.
          readOnly: true
        instructors:
          type: array
          items: {}
          description: Get instructor information
          readOnly: true
      required:
      - current_price
      - description
      - effort
      - feature_image_src
      - financial_assistance_form_url
      - instructors
      - length
      - live
      - page_url
    CoursePageItem:
      type: object
      description: Serializer for individual course page items, including all relevant
        fields.
      properties:
        id:
          type: integer
          readOnly: true
        meta:
          $ref: '#/components/schemas/PageMeta'
        title:
          type: string
          description: The page title as you'd like it to be seen by the public
          maxLength: 255
        description:
          type: string
          description: The description shown on the home page and product page.
        length:
          type: string
          description: A short description indicating how long it takes to complete
            (e.g. '4 weeks').
          maxLength: 50
        effort:
          type: string
          nullable: true
          description: A short description indicating how much effort is required
            (e.g. 1-3 hours per week).
          maxLength: 100
        min_weekly_hours:
          type: string
          description: The minimum number of hours per week required to complete the
            course.
          maxLength: 5
        max_weekly_hours:
          type: string
          description: The maximum number of hours per week required to complete the
            course.
          maxLength: 5
        min_weeks:
          type: integer
          maximum: 32767
          minimum: -32768
          nullable: true
          description: The minimum number of weeks required to complete the course/program.
        max_weeks:
          type: integer
          maximum: 32767
          minimum: -32768
          nullable: true
          description: The maximum number of weeks required to complete the course/program.
        price:
          type: array
          items:
            $ref: '#/components/schemas/PriceItem'
        min_price:
          type: integer
          maximum: 32767
          minimum: -32768
          nullable: true
          description: Specify the minimum product price. This is used by MIT Learn.
        max_price:
          type: integer
          maximum: 32767
          minimum: -32768
          nullable: true
          description: Specify the maximum product price. This is used by MIT Learn.
        prerequisites:
          type: string
          nullable: true
          description: A short description indicating prerequisites of this course/program.
        faq_url:
          type: string
          format: uri
          nullable: true
          description: URL a relevant FAQ page or entry for the course/program.
          maxLength: 200
        about:
          type: string
          nullable: true
          description: Details about this course/program.
        what_you_learn:
          type: string
          nullable: true
          description: '*Required for Verifiable Credential generation. What you will
            learn from this course.'
        feature_image:
          $ref: '#/components/schemas/FeatureImage'
        video_url:
          type: string
          format: uri
          nullable: true
          description: URL to the video to be displayed for this course/program. It
            can be an HLS or Youtube video URL.
          maxLength: 200
        faculty_section_title:
          type: string
          nullable: true
          description: The title text to display in the faculty cards section of the
            product page.
          maxLength: 255
        faculty:
          type: array
          items:
            $ref: '#/components/schemas/Faculty'
        certificate_page:
          allOf:
          - $ref: '#/components/schemas/CertificatePage'
          nullable: true
        course_details:
          $ref: '#/components/schemas/V2Course'
        topic_list:
          type: array
          items:
            $ref: '#/components/schemas/Topic'
        include_in_learn_catalog:
          type: boolean
          nullable: true
          description: If true, Learn should include this in its catalog.
        ingest_content_files_for_ai:
          type: boolean
          nullable: true
          description: If true, allow the AI chatbots to ingest the course's content
            files.
      required:
      - about
      - certificate_page
      - course_details
      - description
      - effort
      - faculty
      - faculty_section_title
      - faq_url
      - feature_image
      - id
      - include_in_learn_catalog
      - ingest_content_files_for_ai
      - length
      - max_price
      - max_weekly_hours
      - max_weeks
      - meta
      - min_price
      - min_weekly_hours
      - min_weeks
      - prerequisites
      - price
      - title
      - topic_list
      - video_url
      - what_you_learn
    CoursePageList:
      type: object
      description: Serializer for a list of course pages, including metadata and items.
      properties:
        meta:
          $ref: '#/components/schemas/PageListMeta'
        items:
          type: array
          items:
            $ref: '#/components/schemas/CoursePageItem'
      required:
      - items
      - meta
    Department:
      type: object
      description: Department model serializer
      properties:
        name:
          type: string
          maxLength: 128
      required:
      - name
    Faculty:
      type: object
      description: Serializer for faculty details used in course pages.
      properties:
        id:
          type: integer
        instructor_name:
          type: string
        instructor_title:
          type: string
        instructor_bio_short:
          type: string
        instructor_bio_long:
          type: string
        feature_image_src:
          type: string
      required:
      - feature_image_src
      - id
      - instructor_bio_long
      - instructor_bio_short
      - instructor_name
      - instructor_title
    FeatureImage:
      type: object
      description: Serializer for feature images used in course pages.
      properties:
        title:
          type: string
        image_url:
          type: string
          format: uri
        height:
          type: integer
        width:
          type: integer
      required:
      - height
      - image_url
      - title
      - width
    NodeTypeEnum:
      enum:
      - course
      - program
      - operator
      type: string
      description: |-
        * `course` - course
        * `program` - program
        * `operator` - operator
      x-enum-descriptions:
      - course
      - program
      - operator
    Override:
      type: object
      description: Serializer for overrides used in certificate pages.
      properties:
        type:
          type: string
        value:
          $ref: '#/components/schemas/OverrideValue'
        id:
          type: string
      required:
      - id
      - type
      - value
    OverrideValue:
      type: object
      description: Serializer for override values used in certificate pages.
      properties:
        readable_id:
          type: string
        CEUs:
          type: string
          format: decimal
          pattern: ^-?\d{0,3}(?:\.\d{0,2})?$
      required:
      - CEUs
      - readable_id
    Page:
      type: object
      description: Serializer for individual Wagtail pages.
      properties:
        id:
          type: integer
        title:
          type: string
        meta:
          $ref: '#/components/schemas/PageMeta'
      required:
      - id
      - meta
      - title
    PageList:
      type: object
      description: Serializer for a list of Wagtail pages.
      properties:
        meta:
          $ref: '#/components/schemas/PageListMeta'
        items:
          type: array
          items:
            $ref: '#/components/schemas/Page'
      required:
      - items
      - meta
    PageListMeta:
      type: object
      description: Serializer for metadata of a list of Wagtail pages.
      properties:
        total_count:
          type: integer
      required:
      - total_count
    PageMeta:
      type: object
      description: Serializer for page metadata used in various Wagtail pages.
      properties:
        type:
          type: string
        detail_url:
          type: string
          format: uri
        html_url:
          type: string
          format: uri
        slug:
          type: string
        show_in_menus:
          type: boolean
        seo_title:
          type: string
        search_description:
          type: string
        first_published_at:
          type: string
          format: date-time
          nullable: true
        alias_of:
          type: string
          nullable: true
        locale:
          type: string
        live:
          type: boolean
        last_published_at:
          type: string
          format: date-time
          nullable: true
      required:
      - alias_of
      - detail_url
      - first_published_at
      - html_url
      - last_published_at
      - live
      - locale
      - search_description
      - seo_title
      - show_in_menus
      - slug
      - type
    PriceItem:
      type: object
      description: Serializer for price items used in course pages.
      properties:
        type:
          type: string
        value:
          type: object
          additionalProperties: {}
        id:
          type: string
          format: uuid
      required:
      - id
      - type
      - value
    ProgramPage:
      type: object
      description: Program page model serializer
      properties:
        feature_image_src:
          type: string
          description: Serializes the source of the feature_image
          readOnly: true
        page_url:
          type: string
          format: uri
          readOnly: true
        financial_assistance_form_url:
          type: string
          format: uri
          readOnly: true
        description:
          type: string
          description: The description shown on the home page and product page.
          readOnly: true
        live:
          type: boolean
          readOnly: true
        length:
          type: string
          description: A short description indicating how long it takes to complete
            (e.g. '4 weeks').
          maxLength: 50
        effort:
          type: string
          nullable: true
          description: A short description indicating how much effort is required
            (e.g. 1-3 hours per week).
          maxLength: 100
        price:
          type: string
          description: Get the price text from the program page.
          readOnly: true
      required:
      - description
      - feature_image_src
      - financial_assistance_form_url
      - live
      - page_url
      - price
    ProgramPageItem:
      type: object
      description: Serializer for individual program page items, including all relevant
        fields.
      properties:
        id:
          type: integer
          readOnly: true
        meta:
          $ref: '#/components/schemas/PageMeta'
        title:
          type: string
          description: The page title as you'd like it to be seen by the public
          maxLength: 255
        description:
          type: string
          description: The description shown on the home page and product page.
          readOnly: true
        length:
          type: string
          description: A short description indicating how long it takes to complete
            (e.g. '4 weeks').
          maxLength: 50
        effort:
          type: string
          nullable: true
          description: A short description indicating how much effort is required
            (e.g. 1-3 hours per week).
          maxLength: 100
        min_weekly_hours:
          type: string
          description: The minimum number of hours per week required to complete the
            course.
          maxLength: 5
        max_weekly_hours:
          type: string
          description: The maximum number of hours per week required to complete the
            course.
          maxLength: 5
        min_weeks:
          type: integer
          maximum: 32767
          minimum: -32768
          nullable: true
          description: The minimum number of weeks required to complete the course/program.
        max_weeks:
          type: integer
          maximum: 32767
          minimum: -32768
          nullable: true
          description: The maximum number of weeks required to complete the course/program.
        price:
          type: array
          items:
            $ref: '#/components/schemas/PriceItem'
        min_price:
          type: integer
          maximum: 32767
          minimum: -32768
          nullable: true
          description: Specify the minimum product price. This is used by MIT Learn.
        max_price:
          type: integer
          maximum: 32767
          minimum: -32768
          nullable: true
          description: Specify the maximum product price. This is used by MIT Learn.
        prerequisites:
          type: string
          nullable: true
          description: A short description indicating prerequisites of this course/program.
        faq_url:
          type: string
          format: uri
          nullable: true
          description: URL a relevant FAQ page or entry for the course/program.
          maxLength: 200
        about:
          type: string
          nullable: true
          description: Details about this course/program.
        what_you_learn:
          type: string
          nullable: true
          description: '*Required for Verifiable Credential generation. What you will
            learn from this course.'
        feature_image:
          $ref: '#/components/schemas/FeatureImage'
        video_url:
          type: string
          format: uri
          nullable: true
          description: URL to the video to be displayed for this course/program. It
            can be an HLS or Youtube video URL.
          maxLength: 200
        faculty_section_title:
          type: string
          nullable: true
          description: The title text to display in the faculty cards section of the
            product page.
          maxLength: 255
        faculty:
          type: array
          items:
            $ref: '#/components/schemas/Faculty'
        certificate_page:
          $ref: '#/components/schemas/CertificatePage'
        program_details:
          $ref: '#/components/schemas/V2Program'
      required:
      - about
      - certificate_page
      - description
      - effort
      - faculty
      - faculty_section_title
      - faq_url
      - feature_image
      - id
      - length
      - max_price
      - max_weekly_hours
      - max_weeks
      - meta
      - min_price
      - min_weekly_hours
      - min_weeks
      - prerequisites
      - price
      - program_details
      - title
      - video_url
      - what_you_learn
    ProgramPageList:
      type: object
      description: Serializer for a list of program pages, including metadata and
        items.
      properties:
        meta:
          $ref: '#/components/schemas/PageListMeta'
        items:
          type: array
          items:
            $ref: '#/components/schemas/ProgramPageItem'
      required:
      - items
      - meta
    SignatoryItem:
      type: object
      description: Serializer for signatory items used in certificate pages.
      properties:
        name:
          type: string
        title_1:
          type: string
        title_2:
          type: string
        title_3:
          type: string
        organization:
          type: string
        signature_image:
          type: string
      required:
      - name
      - organization
      - signature_image
      - title_1
      - title_2
      - title_3
    Topic:
      type: object
      description: Serializer for topics used in course pages.
      properties:
        name:
          type: string
        parent:
          type: string
      required:
      - name
    V2Course:
      type: object
      description: Course model serializer
      properties:
        id:
          type: integer
          readOnly: true
        title:
          type: string
          maxLength: 255
        readable_id:
          type: string
          pattern: ^[\w\-+:\.]+$
          maxLength: 255
        next_run_id:
          type: integer
          nullable: true
          description: Get next run id
          readOnly: true
        departments:
          type: array
          items:
            $ref: '#/components/schemas/Department'
          readOnly: true
        page:
          allOf:
          - $ref: '#/components/schemas/CoursePage'
          readOnly: true
        programs:
          type: array
          items:
            $ref: '#/components/schemas/BaseProgram'
          nullable: true
          readOnly: true
        topics:
          type: array
          items:
            type: object
            additionalProperties: {}
          description: List topics of a course
          readOnly: true
        certificate_type:
          type: string
          readOnly: true
        required_prerequisites:
          type: boolean
          description: |-
            Check if the prerequisites field is populated in the course page CMS.
            Returns:
                bool: True when the prerequisites field is populated in the course page CMS.  False otherwise.
          readOnly: true
        duration:
          type: string
          description: Get the duration of the course from the course page CMS.
          readOnly: true
        min_weeks:
          type: integer
          nullable: true
          description: Get the min weeks of the course from the CMS page.
          readOnly: true
        max_weeks:
          type: integer
          nullable: true
          description: Get the max weeks of the course from the CMS page.
          readOnly: true
        min_price:
          type: integer
          nullable: true
          description: Get the min price of the product from the CMS page.
          readOnly: true
        max_price:
          type: integer
          nullable: true
          description: Get the max price of the product from the CMS page.
          readOnly: true
        time_commitment:
          type: string
          nullable: true
          description: Get the time commitment of the course from the course page
            CMS.
          readOnly: true
        availability:
          type: string
          description: Get course availability
          readOnly: true
        min_weekly_hours:
          type: string
          nullable: true
          description: Get the min weekly hours of the course from the course page
            CMS.
          readOnly: true
        max_weekly_hours:
          type: string
          nullable: true
          description: Get the max weekly hours of the course from the course page
            CMS.
          readOnly: true
        include_in_learn_catalog:
          type: boolean
          readOnly: true
        ingest_content_files_for_ai:
          type: boolean
          readOnly: true
      required:
      - availability
      - certificate_type
      - departments
      - duration
      - id
      - include_in_learn_catalog
      - ingest_content_files_for_ai
      - max_price
      - max_weekly_hours
      - max_weeks
      - min_price
      - min_weekly_hours
      - min_weeks
      - next_run_id
      - page
      - programs
      - readable_id
      - required_prerequisites
      - time_commitment
      - title
      - topics
    V2Program:
      type: object
      description: Program Model Serializer v2
      properties:
        title:
          type: string
          maxLength: 255
        readable_id:
          type: string
          pattern: ^[\w\-+:\.]+$
          maxLength: 255
        id:
          type: integer
          readOnly: true
        courses:
          type: array
          items:
            type: integer
          readOnly: true
        collections:
          type: array
          items:
            type: integer
          readOnly: true
        requirements:
          type: object
          properties:
            courses:
              type: object
              properties:
                required:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      readable_id:
                        type: string
                  description: List of required courses with id and readable_id
                electives:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      readable_id:
                        type: string
                  description: List of elective courses with id and readable_id
            programs:
              type: object
              properties:
                required:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      readable_id:
                        type: string
                  description: List of required programs with id and readable_id
                electives:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      readable_id:
                        type: string
                  description: List of elective programs with id and readable_id
          readOnly: true
        req_tree:
          type: array
          items:
            $ref: '#/components/schemas/V2ProgramRequirement'
          readOnly: true
        page:
          allOf:
          - $ref: '#/components/schemas/ProgramPage'
          readOnly: true
        program_type:
          type: string
          nullable: true
          maxLength: 255
        certificate_type:
          type: string
          readOnly: true
        departments:
          type: array
          items:
            $ref: '#/components/schemas/Department'
          readOnly: true
        live:
          type: boolean
        topics:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
          readOnly: true
        availability:
          $ref: '#/components/schemas/AvailabilityEnum'
        start_date:
          type: string
          nullable: true
          description: Get the start date of the program by finding the first available
            run.
          readOnly: true
        end_date:
          type: string
          format: date-time
          nullable: true
        enrollment_start:
          type: string
          format: date-time
          nullable: true
        enrollment_end:
          type: string
          format: date-time
          nullable: true
        required_prerequisites:
          type: boolean
          description: Check if the prerequisites field is populated in the program
            page CMS.
          readOnly: true
        duration:
          type: string
          nullable: true
          description: Get the length/duration field from the program page CMS.
          readOnly: true
        min_weeks:
          type: integer
          nullable: true
          description: Get the min weeks of the program from the CMS page.
          readOnly: true
        max_weeks:
          type: integer
          nullable: true
          description: Get the max weeks of the program from the CMS page.
          readOnly: true
        min_price:
          type: integer
          nullable: true
          description: Get the min price of the product from the CMS page.
          readOnly: true
        max_price:
          type: integer
          nullable: true
          description: Get the max price of the product from the CMS page.
          readOnly: true
        time_commitment:
          type: string
          nullable: true
          description: Get the effort/time_commitment field from the program page
            CMS.
          readOnly: true
        min_weekly_hours:
          type: string
          nullable: true
          description: Get the min weekly hours of the course from the course page
            CMS.
          readOnly: true
        max_weekly_hours:
          type: string
          nullable: true
          description: Get the max weekly hours of the course from the course page
            CMS.
          readOnly: true
      required:
      - certificate_type
      - collections
      - courses
      - departments
      - duration
      - id
      - max_price
      - max_weekly_hours
      - max_weeks
      - min_price
      - min_weekly_hours
      - min_weeks
      - page
      - readable_id
      - req_tree
      - required_prerequisites
      - requirements
      - start_date
      - time_commitment
      - title
      - topics
    V2ProgramRequirement:
      type: object
      description: Serializer for a ProgramRequirement
      properties:
        id:
          type: integer
          nullable: true
        data:
          $ref: '#/components/schemas/V2ProgramRequirementData'
        children:
          type: array
          items:
            $ref: '#/components/schemas/V2ProgramRequirement'
          default: []
      required:
      - data
    V2ProgramRequirementData:
      type: object
      description: Serializer for ProgramRequirement data
      properties:
        node_type:
          $ref: '#/components/schemas/NodeTypeEnum'
        course:
          type: integer
          nullable: true
        program:
          type: integer
          nullable: true
        required_program:
          type: integer
          nullable: true
        title:
          type: string
          nullable: true
        operator:
          type: string
          nullable: true
        operator_value:
          type: string
          nullable: true
        elective_flag:
          type: boolean
          nullable: true
          default: false
      required:
      - node_type
